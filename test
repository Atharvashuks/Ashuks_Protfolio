// import React, { useState } from "react";
// import { Loader } from ".";

// interface InputFormProps {
//   label: string;
//   placeholder?: string;
//   type: "text" | "textarea" | "file";
//   value: string;
//   onChange: (
//     e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>
//   ) => void;
// }

// const InputForm: React.FC<InputFormProps> = ({
//   label,
//   placeholder,
//   type,
//   value,
//   onChange,
// }) => {
//   const [file, setFile] = useState<File | null>(null);
//   const [isLoading, setIsLoading] = useState(false);

//   const handleFileChange = async () => {
//     setIsLoading(true);
//     console.log("FIle data", file);
//     if (file) {
//       const formData = new FormData();
//       formData.append("file", file);
//       formData.append("upload_preset", "Portfolio");
//       formData.append("cloud_name", "diumlsz5x");

//       try {
//         const response = await fetch(
//           "https://api.cloudinary.com/v1_1/diumlsz5x/image/upload",
//           {
//             method: "POST",
//             body: formData,
//           }
//         );

//         console.log(response);

//         if (response.ok) {
//           setIsLoading(false);
//           const data = await response.json();
//           console.log("I am Data", data.secure_url);

//           // const event = {
//           //   ...e,
//           //   target: {
//           //     ...e.target,
//           //     value: data.secure_url,
//           //   },
//           // };
//           onChange(data.secure_url);
//         } else {
//           console.error("File upload failed:", response.statusText);
//         }
//       } catch (error) {
//         console.error("Error uploading file:", error);
//       }
//     }
//   };

//   if (isLoading) {
//     return (
//       <div className="content-center flex items-center justify-center min-h-screen">
//         <Loader />
//       </div>
//     );
//   }

//   return (
//     <div className="mb-4">
//       <label className="block text-sm font-medium text-sky-600 mb-1">
//         {label}
//       </label>
//       {type === "textarea" ? (
//         <textarea
//           placeholder={placeholder}
//           value={value}
//           onChange={onChange}
//           className="w-full p-3 border border-sky-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"
//           rows={4}
//         />
//       ) : type === "file" ? (
//         <div>
//           <input
//             type="file"
//             accept="image/*"
//             onChange={(e) => {
//               setFile(e.target.files![0]);
//             }}
//             className="w-full p-3 border border-sky-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"
//           />
//           <button
//             className="bg-sky-800 px-4 py-2 rounded-lg hover:bg-sky-900 text-sm md:text-base"
//             onClick={handleFileChange}
//           >
//             Submit Image
//           </button>
//         </div>
//       ) : (
//         <input
//           type="text"
//           placeholder={placeholder}
//           value={value}
//           onChange={onChange}
//           className="w-full p-3 border border-sky-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"
//         />
//       )}
//     </div>
//   );
// };

// export default InputForm;

import React, { useState } from "react";

import FileBase from "react-file-base64";

interface InputFormProps {
  label: string;
  placeholder: string;
  type: "text" | "textarea" | "file";
  value: string;
  onChange: (
    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>
  ) => void;
}

const InputForm: React.FC<InputFormProps> = ({
  label,
  placeholder,
  type,
  value,
  onChange,
}) => {
  return (
    <div className="mb-4">
      <label className="block text-sm font-medium text-sky-600 mb-1">
        {label}
      </label>
      {type === "textarea" ? (
        <textarea
          placeholder={placeholder}
          value={value}
          onChange={(e) => onChange(e)}
          className="w-full p-3 border border-sky-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"
          rows={4}
        />
      ) : type === "file" ? (
        <div className="w-full p-3 border border-sky-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent">
          <FileBase
            type="file"
            multiple={false}
            onDone={({ base64 }) => onChange(base64)}
          />
        </div>
      ) : (
        <input
          type="text"
          placeholder={placeholder}
          value={value}
          onChange={(e) => onChange(e)}
          className="w-full p-3 border border-sky-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"
        />
      )}
    </div>
  );
};

export default InputForm;
